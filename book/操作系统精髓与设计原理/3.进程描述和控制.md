# 概述
- 操作系统必须交替执行多个进程，在合理的响应时间内，使CPU的利用率最大化
- 操作系统必须按照特定的策略(比如某些函数或者应用程序具有较高的优先级),给进程分配资源,同时避免死锁
- 操作系统可以支持进程间通信，允许用户创建进程


# 什么是进程

## 进程和进程控制块

- 进程的两个基本元素是`程序代码`和`数据集`，程序代码供多个进程共享，`数据集`包括了唯一标识进程的`进程控制块`
- 进程控制块
    ```
    标识符:UID
    状态:执行/阻塞/就绪
    优先级:
    程序计数器:
    内存指针:
    上下文数据:进程正在执行时，处理器中的数据
    I/O状态信息:
    记账信息:处理器时间总和...
    ```
- 进程中断--->进程控制块保存了进程的当前状态--->进程再次获得执行--->使用进程控制块恢复进程--->进程就像从未中断过一样执行

## 进程状态

- 进程执行

- 进程暂停


## 进程的创建和终止
- 进程创建的原因
    ```
    1. 新的批处理作业,比如说磁盘读取
    2. 交互登录,登录终端
    3. 操作系统为提供某项服务而创建一个进程
    4. 由用户的进程主动派生出一个进程
    ```

- 由操作系统产生的进程对用户是透明的，不需要我们管理
- 进程可以派生进程，这使得程序构造非常便利，比如:服务器进程可以为它处理的每一个请求产生一个新进程,新进场处理请求，将处理结果返回给父进程

- 进程终止
    1. 正常完成
    1. 超时
    1. 内存不足
    1. 越界访问内存


# 操作系统的控制结构
- 为了控制进程和资源,操作系统构造并且维护了它所管理的每个实体的信息表
    1. 内存表，用于跟踪内存和虚拟内存
    1. 设备表/ IO表
    1. 文件表
    1. 进程表

## 进程控制结构
- 进程位置

- 进程属性


# 进程控制
## 执行模式
- 用户态
- 内核态
- 模式切换

## 进程创建
1. 分配标识符
1. 分配空间
1. 初始化进程控制块
1. 设置正确的链接
1. 创建或者扩充其他数据结构


## 进程切换:何时切换进程
- 时钟中断，时间片用完了
- I/O 中断，有I/O活动
- ...

##



# SMP
- Symmetrical Multi-Processing 对称多处理结构,是指在一个计算机上汇集了一组处理器(多CPU),各CPU之间共享内存子系统以及总线结构。**各个cpu要求是一样的**。
- SMP系统中最关键的技术是如何更好地解决多个处理器的相互通讯和协调问题。


# AMP
- 非对称多处理器结构,与SMP差别在于，cpu不是一样的，而是经过针对不同任务优化的处理器之间协作
