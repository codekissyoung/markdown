# 引导过程
1. 从MBR读取引导程序 boot loader
1. 加载初始化内核
1. 检测和配置设备
1. 创建内核进程 init 进程 PID 为 1
1. 单用户模式下 管理员还可干预
1. 执行系统启动初始化脚本

# 引导PC
1. PC通电后，是从执行保存在ROM中的代码开始的，在专门为Unix设计的机器中，这种代码可能就是硬件
1. 而在PC上，这种代码通常就叫做 BIOS (Basic Input Output System)
1. 实际上PC有几个层面上的BIOS, 本身一个,显卡一个,SCSI卡一个,网卡一个
1. BIOS 通常让用户选择从什么设备进行引导.比如"从DVD光驱引导,尝试从USB设备引导,尝试从硬盘引导,用PXE从网络引导"
1. BIOS 一旦确定从哪个设备引导系统，就会尝试加载设备上开头的 `512字节` 信息，这个数据段就称为MBR(Master Boot Record) 主引导记录, 它记录了要到哪个分区下面加载内核的 "bootloader (引导加载程序)"
1. 最后由 "bootloader" 去引导加载内核


# 初始化内核
- 内核 `/vmlinuz` 或者 `/boot/vmlinuz` , 系统引导的第一项目录就是将这个程序载入内存执行
1. ROM 首先运行的是bootloader，再由它安排载入内核
- 内核探测程序再运行，判断出物理内存总量，划分给内核多少，留给用户程序多少
- 再接着就是配置硬件，系统检测各种物理硬件，记录信息，并配置好

# 创建内核进程
- 自发进程，不是用 `fork` 创建的
- 内核进程都带 `[]` 括号 , `[kworker/0]` 后面的数字说明它在哪颗处理器运行
```
➜  blog git:(master) ✗ sudo ps -aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0 205360  7596 ?        Ss   11:36   0:02 /sbin/init splash
root         2  0.0  0.0      0     0 ?        S    11:36   0:00 [kthreadd]
root         4  0.0  0.0      0     0 ?        S<   11:36   0:00 [kworker/0:0H]
root         6  0.0  0.0      0     0 ?        S    11:36   0:00 [ksoftirqd/0]
root         7  0.0  0.0      0     0 ?        S    11:36   0:12 [rcu_sched]
root         8  0.0  0.0      0     0 ?        S    11:36   0:00 [rcu_bh]
root         9  0.0  0.0      0     0 ?        S    11:36   0:00 [migration/0]
root        10  0.0  0.0      0     0 ?        S<   11:36   0:00 [lru-add-drain]
...
systemd+   661  0.0  0.0 129796  4508 ?        Ssl  11:36   0:00 /lib/systemd/systemd-timesyncd
root       777  0.0  0.1 1094332 11332 ?       Ssl  11:37   0:00 /usr/sbin/repowerd
root       785  0.0  0.0  32872  2984 ?        Ss   11:37   0:00 /usr/sbin/cron -f
root       787  0.0  0.1 422808  9256 ?        Ssl  11:37   0:00 /usr/sbin/ModemManager
root       842  0.0  0.0   4388  1304 ?        Ss   11:37   0:00 /usr/sbin/acpid
syslog     847  0.0  0.0 256416  3336 ?        Ssl  11:37   0:00 /usr/sbin/rsyslogd -n
root       848  0.0  0.0  46652  4700 ?        Ss   11:37   0:00 /lib/systemd/systemd-logind
whoopsie   850  0.0  0.2 390876 16516 ?        Ssl  11:37   0:00 /usr/bin/whoopsie -f
root       853  0.0  0.1 177300  9104 ?        Ssl  11:37   0:01 /usr/sbin/thermald --no-daemon --dbus-enable
```

# 执行启动脚本
- 就是一个shell脚本


# GRUB 全面统一的引导加载程序
