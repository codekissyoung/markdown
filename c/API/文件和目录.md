# 文件IO相关函数

## 复制文件描述符

- int dup( int fildes )

- int dup2( int fildes, int fildes2 )

## 格式化输入

- int scanf( const char *format, ... );
- int fscanf( FILE *stream, const char *format, ... );
- int sscanf( const char *s, const char *format, ... );

### 从文件流里取一个字符

- int fgetc( FILE *stream );
- int getc( FILE *stream );
- int getchar();

### 从文件流里 读取一个字符串

- char *fgets( char *s, int n, FILE *stream );
- char *gets( char *s );

## 格式化输出

- int printf( const char *format, ... );
- int sprintf( const *s, const char *format, ... );
- int fprintf( FILE *stream, const char *format, ... );
- int fputc( int c, FILE *stream );
- int putc( int c, FILE *stream );
- int putchar( int c );

## printf 家族

```c
int printf(const char *format, ...); //输出到标准输出
int fprintf(FILE *stream, const char *format, ...); //输出到文件
int sprintf(char *str, const char *format, ...);    //输出到字符串str中
int snprintf(char *str, size_t size, const char *format, ...); //按size大小输出到字符串str中

// 以下函数功能与上面的一一对应相同，只是在函数调用时，把上面的 ... 对应的一个个变量用va_list调用所替代。在函数调用前 ap 要通过va_start()宏来动态获取
#include <stdarg.h>
int vprintf(const char *format, va_list ap);
int vfprintf(FILE *stream, const char *format, va_list ap);
int vsprintf(char *str, const char *format, va_list ap);
int vsnprintf(char *str, size_t size, const char *format, va_list ap);
```

## 当前文件流位置相关

- fgetpos(); 获取文件流当前读写位置
- fsetpos(); 设置文件流当前读写位置
- ftell(); 返回文件流当前读写位置的偏移 值
- rewind(); 重置文件流里的读写位置
- freopen(); 重新使用一个文件流
- setvbuf();设置文件流的缓冲机制

## 删除文件或者目录

- remove();

## 文件流错误

```c
extern int errno;
// 测试一个文件流的错误标识
int ferror( FILE *stream );
// 测试一个文件流的 末尾标识
int feof( FILE *stream );
// 清除文件流的末尾标识 和 错误标识
void clearerr( FILE *stream );
// 查看文件流使用的是哪个文件描述符
int fileno( FILE *stream );
// 在一个打开的文件描述符上，创建一个新的文件流
FILE *fdopen( int fildes, const char *mode );
```

## 文件状态维护

```c
int chmod( const char *path, mode_t mode );
int chown( const char *path, uid_t owner, gid_t group);
int unlink( const char *path ); // 删除一个文件
int link( const char *path1, const char *path2 ); // 创建一个硬连接
int symlink( const char *path1, const char *path2 ); // 创建一个软连接
```

## 目录

```c
// 创建目录
int mkdir( const char *path, mode_t mode );
// 删除目录
int rmdir( const char *path );
// 改变当前工作目录
int chdir( const char *path );
// 获取当前工作目录
char *getcwd( char *buf, size_t size );
```

## 扫描目录

```c
// 打开目录 建立一个目录流
DIR *opendir( const char *name );
// 返回一个指针 ，它保存着目录流里下一个目录项的有关资料
struct dirent *readdir( DIR *dirp );
// 记录着目录流里的当前位置
long int telldir( DIR *dirp );
// 设置目录流dirp的目录项指针
void seekdir( DIR *dirp, long int loc );
// 关闭并且释放一个目录流
int closedir( DIR *dirp );
```