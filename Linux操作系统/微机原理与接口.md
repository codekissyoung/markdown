# 微机原理与接口

本文是《微机原理与接口》一书的笔记。

## 第1章

微机发展历程 ： 算盘 -> 齿轮机械计算机 -> 图灵机 -> 1946 ENIAC -> IBM 赛其 -> NEC 日本电气公司　NEAC 2203 -> IBM system 360 -> CDC 6600 (RISC指令集) -> PDP-8 (小型计算机) 发明unix和c语言的机器 -> Kernbak-1 -> Cray 1 -> Apple I -> IBM PC (微软DOS系统) -> Apple II -> iphone

cpu历史

- intel 1968成立 -> Fairchild(仙童)半导体公司发明集成电路的新制造方法 -> 4004 处理芯片 4位芯片 每秒6万条指令 -> intel 8008 -> intel 8080 以N沟道MOS电路取代P沟道　-> 8085处理器 -> intel 8086 处理器　16位寄存器　16位地址总线 (16位的处理器) -> 8088 -> 80286 -> 80386 (32位) -> 80486 -> 80586 -> 奔腾
- AMD 8088 -> amd 386 -> amd 486 -> amd 586 -> amd K5 -> amd k6 ->
- 引晶 -> 切片 -> 光刻 -> 显影 -> 蚀刻 ->
- 八天才叛逆

冯 诺依曼 结构

- 采用二进制
- 程序按照顺序执行
- 指令和数据不加区分，混合存储在存储器中

哈佛结构

- 数据和指令存储在不同存储空间 ， RAM 和 ROM
- 每个存储器独立编址 独立访问

RAM

- 特点: 随机存取 掉电丢数据
- SRAM : 静态 晶体管触发器组成 速度快
- DRAM : 动态 MOS管
- SDRAM :

ROM ：只读存储器

浮点数：符号位　+ 阶码 + 小数　

8086 16位处理器

- 16位数据总线
- 20位地址总线，直接寻址的存储空间1MB

总线接口部件BIU

- 负责8086 CPU与存储器和外设之间的信息传送,负责从内存的指定区域取出指令，送至指令队列排队。在执行指令时所需要的操作数，也由BIU从内存的指定区域取出，传送给执行部件EU去执行
- BIU包含一个地址加法器、一组16位的段寄存器、一个16位的指令指针IP、一个6字节的指令队列缓冲器及总线控制电路。

地址加法器和段寄存器

- CPU内部只有16位的寄存器，这就无法保存和传送每个存储单元的20位地址信息，为了正确地访问存储器，8086采用了分段结构，将1MB的内存空间划分为若干个逻辑段，在每个逻辑段中使用16位段基址和16位偏移地址进行寻址，段寄存器用来存放各段的段基址。利用BIU的地址加法器计算并形成CPU所要访问的存储单元地址（20位）或I/O端口地址（16位）

指令队列缓冲器

- 指令队列缓冲器是6个字节的“先进先出”的RAM存储器，用来按顺序存放CPU要执行的指令代码，并送入执行部件EU中去执行。EU总是从指令队列的输出端取指令，每当指令队列中存满一条指令后，EU就立即开始执行。当指令队列中前两个指令字节被EU取走后，BIU就自动执行总线操作，读出指令并填入指令队列中。当程序发生跳转时，BIU则立即清除原来指令队列中的内容并重新开始读取指令代码。

总线控制电路

- 总线控制电路主要负责产生总线控制信号。例如：产生对存储器的读/写控制信号和I/O端口的读/写控制信号等。

执行部件EU

- EU负责指令的执行。它从BIU的指令队列中取出指令、分析指令并执行指令，而执行指令过程中所需要的数据和执行的结果，也都由EU向BIU发出请求，再由BIU对存储器或外设进行存取操作来完成。
- EU部件主要由算术逻辑单元、标志寄存器、通用寄存器、指针寄存器、暂存寄存器、指令译码器和控制电路组成。

算术逻辑单元ALU

- ALU是一个16位的算术逻辑运算部件，用来对操作数进行算术运算和逻辑运算，也可以按指令的寻址方式计算出CPU要访问的内存单元的16位偏移地址。

标志寄存器

- 标志数据的正负

溢出寄存器：记录操作后，数据溢出的部分

数据暂存寄存器：数据暂存寄存器是一个16位的寄存器，它的主要功能是暂时保存数据，并向ALU提供参与运算的操作数。

EU控制电路：EU控制电路接收从BIU指令队列中取出的指令代码，经过分析、译码后形成各种实时控制信号，对各个部件进行实时操作。

通用寄存器(16位)

- AX
- BX
- CX
- DX
- 可以拆分为两个8位的使用,AX 拆分为　AH , AL ; BX 拆分为　BH , BL;

- SP : Stack Pointer 堆栈指针寄存器
- BP : Base Pointer 基址指针寄存器
- SI : Source Index 源变址寄存器
- DI : Destination Index 目的变址寄存器

- CS : Code Segment 代码段寄存器
- DS : Data Segment 数据段寄存器
- SS : Stack Segment 堆栈寄存器
- ES : EXtra Segment 附加段寄存器

- IP : Instruction Pointer 指令指针寄存器
- PSW : 标志位寄存器
