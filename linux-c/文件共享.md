# 内核使用 三种数据结构表示打开的文件
- 每个进程在进程表中都有一个记录项，记录项包含了一张`打开文件描述符表`，该表的每一条记录就是文件描述符,它包含:
    1. 文件描述符标志 close_on_exec
    1. 指向一个文件表项的指针
- 内核为所有打开文件维持一张文件表，每个记录包含:
    1. 文件状态标志
    1. 当前文件偏移量
    1. 指向该文件 v 节点表的指针
- 每个打开文件都有一个 v 节点，该节点包含了文件类型和对此文件进行各种操作的函数的指针，v 节点号包含了该文件的 i 节点， 这些信息是打开文件时，从磁盘读入内存的