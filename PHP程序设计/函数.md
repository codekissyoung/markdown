# 传参不定
```php
function more_args(){
    $args=func_get_args();//将所有传递进来的参数封装成一个数组
    echo $args[0];//输出第一个变量
}
```

# 变量函数
```php
function varfunc($a,$b){
    return $a + $b;
}
$a = 'varfunc';
echo $a(2,56);
```

# 回调函数
将一个函数名当做参数传入,执行
```php
function   filter（$fun）{
    $i=2;
    return  $fun($i);
}
function one($i){
    retrun  $i*$i;
}
filter(one);// 这里将回调函数的名称当作变量，传入里面！
```

# 动态创建一个函数
```php
$func_name = create_function('$message','echo "hello ,{$message}"')；
echo $func_name;//调用动态创建的函数
```

# 递归函数
```php
function A($i){
    if($i<=1) return $i;
    return A($i-1)*$i;
}
```
# 匿名函数
也叫闭包(Closures), 经常被用来临时性地创建一个无名函数，用于回调函数等用途。
```php
$func = function($arg)
{
    print $arg;
};

$func("Hello World");
```
以上代码定义了一个匿名函数，并赋值给了 $func.

可以看到定义匿名函数依旧使用 function 关键字，只不过省略了函数名，直接是参数列表。

然后我们又调用了 $func 所储存的匿名函数。

# 函数作为参数　匿名函数
```php
$input = array(1, 2, 3, 4, 5, 6);

// Creates a new anonymous function and assigns it to a variable
$filter_even = function($item) {
    return ($item % 2) == 0;
};

// Built-in array_filter accepts both the data and the function
$output = array_filter($input, $filter_even);

// The function doesn't need to be assigned to a variable. This is valid too:
$output = array_filter($input, function($item) {
    return ($item % 2) == 0;
});

print_r($output);
```

# 匿名函数还可以用 use 关键字来捕捉外部变量
```php
function arrayPlus($array, $num)
{
    array_walk($array, function(&$v) use($num){
        $v += $num;
    });
}
```
上面的代码定义了一个 arrayPlus() 函数(这不是匿名函数), 它会将一个数组($array)中的每一项，加上一个指定的数字($num).
在 arrayPlus() 的实现中，我们使用了 array_walk() 函数，它会为一个数组的每一项执行一个回调函数，即我们定义的匿名函数。
在匿名函数的参数列表后，我们用 use 关键字将匿名函数外的 $num 捕捉到了函数内，以便知道到底应该加上多少。


# php 闭包使用 use 关键字
```php
<?php
/**
 * Creates an anonymous filter function accepting items > $min
 *
 * Returns a single filter out of a family of "greater than n" filters
 */
function criteria_greater_than($min)
{
    return function($item) use ($min) {
        return $item > $min;
    };
}

$input = array(1, 2, 3, 4, 5, 6);

// Use array_filter on a input with a selected filter function
$output = array_filter($input, criteria_greater_than(3));

print_r($output); // items > 3
```

# call_user_func_array 调用用户函数
```php
function foobar($arg, $arg2) {
    echo __FUNCTION__, " got $arg and $arg2\n";
}
class foo {
    function bar($arg, $arg2) {
        echo __METHOD__, " got $arg and $arg2\n";
    }
}


// Call the foobar() function with 2 arguments
call_user_func_array("foobar", array("one", "two"));

// Call the $foo->bar() method with 2 arguments
$foo = new foo;
call_user_func_array(array($foo, "bar"), array("three", "four"));


// 带命名空间
namespace Foobar;

class Foo {
    static public function test($name) {
        print "Hello {$name}!\n";
    }
}

// As of PHP 5.3.0
call_user_func_array(__NAMESPACE__ .'\Foo::test', array('Hannes'));

// As of PHP 5.3.0
call_user_func_array(array(__NAMESPACE__ .'\Foo', 'test'), array('Philip'));
```
