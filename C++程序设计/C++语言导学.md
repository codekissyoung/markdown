# 《C++语言导学》

这是 C++ 语言之父 `Stroustrup` 写的新书《A Tour of C++》的中文版。2015年出版的，值的一看。本文是笔记。

## 第1章 基础知识

本章介绍C++的符号系统、存储与计算模型 以及 如何将代码组织成程序。

ISO 的 C++标准定义了两种实体:

- 核心语言特性，比如内置类型以及循环等
- 标准库，比如容器(如 `vector` 和 `map`) 以及 `I/O`操作(如`<<`和 `getline ()` )。

每个 C++ 实现都提供标准库组件 . 它们其实也是非常普通的 C++ 代码 。 换句话说， C++标准库可以用 C++语言本身实现(仅在实现线程上下文切换这样的功能时才使用少量机器代 码)。 这就确保 C++ 在面对绝大多数要求较高的系统编程任务时既有丰富的表达力，同时也足够高效 。

C++是一种静态类型语言，意味着在使用任何实体(如对象 、 值、名称和表达式)时， 编译器都必须清楚该实体的类型。对象的类型决定了能在该对象上执行的操作 。每个名字和每个表达式都有自己的类型，类型决定了名字和表达式所能执行的操作。

### 函数

函数的实参传递的过程与拷贝初始化非常类似，编译器负责**检查实参的类型**，并且在必要的时候**执行隐式实参类型转换**。

返回值类型和实参类型属于函数类型的一部分。 对于类成员函数来说，类名字本身也是函数类型的一部分。

```C++
double get( const vector<double> &vec，int index ); // 函数类型 double( const vector<double>&, int )
char& String::operator[] (int index );              // 函数类型 char& String::(int)
```

函数组成了计算的基本词汇表， 正如类型(包括内置类型和用户自定义类型)组成了数据的基本词汇表 。C++标准算法 ( 如 `find`、 `sort` 和 `iota`) 是程序函数化的良好开端，接下来我们就能用这些表示 通用任务或者特殊任务的函数组合出更复杂的计算模块了。

**函数重载**:如果程序中存在名字相同但实参类型不同的函数，则编译器负责为每次调用选择匹配度最高的函数。如果存在两个可供选择的函数并且它们难分优劣，则编译器认为此次调用具有二义性并报错。

```c++
void print(int);        // 接受一个整型实参
void print(double);     // 接受一个浮点型实参
void print(string);     // 接受一个字符串类型的实参

print(42);              // 调用 print(int )
print(9.65);            // 调用 print(dou b le)
print("O is for Oigi"); // 掉用 void print(string);

void print(int,double);
void print(double,int);

prlnt(O,O);             // 错误:二义性调用
```

**声明**是一条语句，负责为程序引入一个新的名字，并指定该命名实体的类型:

- 类型 `type` 定义了一组可能的值以及一组 (对象上的) 操作 。
- 对象 `object` 是存放某类型值的内存空间 。
- 值 `value` 是一组二进制位，具体的含义由其类型决定 。
- 变量 `variable` 是一个命名的对象 。