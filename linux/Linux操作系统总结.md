# Linux操作系统总结

## Linux 技术特点

- 多用户多任务
- 可靠的保护机制
- Linux 提供的保护机制:
  - 在运行机制上,Linux 提供了两种执行状态,用户态(自己内存空间,用户指令)和内核态(全部内存空间,全部指令)。
  - 认证监督机制。系统中的每个用户都有自己唯一的 ID 标识。(一般用户,超级用户)
  - 存储保护机制
- 多平台 Linux 内核源代码使用的是高级语言 C 语言,所以它的移植性很强。
- 设备独立于内核
- 支持多种文件系统，由于 Linux 采用了虚拟文件系统 VFS,所以它可以支持多种不同的物理文件系统。
- 完善的虚拟存储技术
- 支持多种硬件设备，由于 Linux 自由软件的性质,Linux 程序人员和设备制造商都为 Linux 系统开发了大量的设备驱动程序。
- Linux 采用模块化程序设计方法,其内核由若干功能相对独立的程序模块组成。其主要优点在于对内核功能的增加和修改十分方便,而且任何一个模块的改动都不会影响其他模块的功能。
- Linux 内核主要由 5 个子系统组成:进程管理,存储管理,文件管理,网络管理,进程间通信

## 编译内核

- 为何要自己编译内核
  - 可以定制内核模块。Linux 引入了“动态载入模块”的概念,使用户可以把驱动程序以及非必要的内核功能代码编译成“模块”,由系统在需要时动态载入,不需要时自动卸载 ,从而提高了系统的效率和灵活性。
  - 可以定制系统功能。当添加某种设备时、增加系统功能时、系统暴露出缺陷需要打“补丁”时,当新版内核出现准备用来升级时,编译内核是不可避免的。而且,编译内核正是Linux 独有的“系统级 DIY”的魅力所在!

## 进程

- 就绪: 已经获得除CPU外的所有运行所需要的资源，在就绪队列里等待运行
- 运行: 就绪队里程序获得CPU资源，正在运行中
- 阻塞: 运行中的进程，因为某种原因(比如等待IO),进入阻塞状态，等待某个事件发生后，再次进入就绪队列

![进程调度]](/img/process.png)

### 进程的实体 PCB

- Process Control Block 包括了
  - 进程运行时对应的执行代码
  - 运行时必须要的数据资源
  - 进程数据结构,保持进程所需数据集合，完成进程控制的重要结构

- PCB 时系统为描述和控制进程的运行而为每个进程定义的一个数据结构, PCB 中记录了操作系统所需全部的关于进程的描述和控制信息,它是进程存在的唯一标志
- PCB 结构: 标识信息、调度信息、处理机信息、控制信息, 组织方式(根据不同的状态来组织):索引表结构,或链接表结构

- `原语`: 也称为`系统调用`,是执行一定功能的程序段,它的执行不可中断,好像执行一条指令一样。原语具有原子操作性,即一个操作的所有动作,要么全做,要么全不做。这种原子性通过 **屏蔽中断** 来实现