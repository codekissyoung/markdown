# 数字签名算法RSA
一、概述
1、数字签名算法可以看做是一个带有密钥的消息摘要算法，并且这个密钥包括了公钥和私钥。他是非对称加密算法和消息摘要算法的结合体
2、数字签名算法是公钥基础设施（PKI），以及许多网络安全机制的基础
3、数字签名算法有抗否认的作用
4、遵循“私钥签名，公钥验证”规则
5、常见的数字签名算法有RSA/DSA/ECDSA
6、java6支持实现了DSA算法、部分RSA算法需要bouncycastle支持，最牛的ECDSA算法（微软用来做操作系统序列号的那个）完全需要Bouncycastle支持
二、模型分析
1、甲方构造密钥对（公钥+私钥），公布公钥给乙方
2、甲方使用私钥对数据进行签名，然后将“签名+数据” 发送给乙方
3、乙方使用公钥+数字签名 验证数据


发送报文时，发送方由报文文本计算生成报文摘要，然后用自己的私钥对这个摘要进行加密，这个加密后的摘要将作为报文的数字签名和报文一起发送给接收方。接收到报文之后，接收方使用发送方的公钥对报文附加的数字签名进行解密，然后由接收到的原始报文计算出报文摘要，如果两个摘要相同，那么接收方就能确定该数字签名是发送方的。


数字签名的原理　　在具体工作时，首先发送方对信息施以数学变换，所得的信息与原信息惟一对应；在接收方进行逆变换，得到原始信息。只要数学变换方法优良，变换后的信息在传输中就具有很强的安全性，很难被破译、篡改。这一个过程称为加密，对应的反变换过程称为解密。　　现在有两类不同的加密技术，一类是对称加密，双方具有共享的密钥，只有在双方都知道密钥的情况下才能使用，通常应用于孤立的环境之中，比如在使用自动取款机（ATM）时，用户需要输入用户识别号码（PIN），银行确认这个号码后，双方在获得密码的基础上进行交易，如果用户数目过多，超过了可以管理的范围时，这种机制并不可靠。　　另一类是非对称加密，也称为公开密钥加密，密钥是由公开密钥和私有密钥组成的密钥对，用私有密钥进行加密，利用公开密钥可以进行解密，但是由于公开密钥无法推算出私有密钥，所以公开的密钥并不会损害私有密钥的安全，公开密钥无须保密，可以公开传播，而私有密钥必须保密，丢失时需要报告鉴定中心及数据库。
数字签名的功能　　数字签名可以解决否认、伪造、篡改及冒充等问题。具体要求：发送者事后不能否认发送的报文签名、接收者能够核实发送者发送的报文签名、接收者不能伪造发送者的报文签名、接收者不能对发送者的报文进行部分篡改、网络中的某一用户不能冒充另一用户作为发送者或接收者。数字签名的应用范围十分广泛，在保障电子数据交换（EDI）的安全性上是一个突破性的进展，凡是需要对用户的身份进行判断的情况都可以使用数字签名，比如加密信件、商务信函、定货购买系统、远程金融交易、自动模式处理等等。
数字签名的算法　　数字签名的算法很多， 应用最为广泛的三种是： Hash签名、DSS签名和RSA签名。　　1. Hash签名　　Hash签名不属于强计算密集型算法，应用较广泛。它可以降低串口服务器资源的消耗，减轻中央服务器的负荷。Hash的主要局限是接收方必须持有用户密钥的副本以检验签名， 因为双方都知道生成签名的密钥，较容易攻破，存在伪造签名的可能。　　2. DSS和RSA签名　　DSS 和RSA采用了公钥算法，不存在Hash的局限性。RSA是最流行的一种加密标准，许多产品的内核中都有RSA的软件和类库。早在Web飞速发展之前， RSA数据安全公司就负责数字签名软件与Macintosh操作系统的集成，在Apple的协作软件PowerTalk上还增加了签名拖放功能，用户只要把需要加密的数据拖到相应的图标上，就完成了电子形式的数字签名。与DSS不同，RSA既可以用来加密数据，也可以用于身份认证。和Hash签名相比，在公钥系统中，由于生成签名的密钥只存储于用户的计算机中，安全系数大一些。
数字签名的实施　　实现数字签名有很多方法，目前采用较多的是非对称加密技术和对称加密技术。虽然这两种技术实施步骤不尽相同，但大体的工作程序是一样的。用户首先可以下载或者购买数字签名软件，然后安装在个人电脑上。在产生密钥对后，软件自动向外界传送公开密钥。由于公共密钥的存储需要，所以需要建立一个鉴定中心（CA）完成个人信息及其密钥的确定工作。鉴定中心是一个政府参与管理的第三方成员，以便保证信息的安全和集中管理。用户在获取公开密钥时，首先向鉴定中心请求数字确认，鉴定中心确认用户身份后，发出数字确认，同时鉴定中心向数据库发送确认信息。然后用户使用私有密钥对所传信息签名，保证信息的完整性、真实性，也使发送方无法否认信息的发送，之后发向接收方；接收方接收到信息后，使用公开密钥确认数字签名，进入数据库检查用户确认信息的状况和可信度；最后数据库向接收方返回用户确认状态信息。不过，在使用这种技术时，签名者必须注意保护好私有密钥，因为它是公开密钥体系安全的重要基础。如果密钥丢失，应该立即报告鉴定中心取消认证，将其列入确认取消列表之中。其次，鉴定中心必须能够迅速确认用户的身份及其密钥的关系。一旦接收到用户请求，鉴定中心要立即认证信息的安全性并返回信息。
